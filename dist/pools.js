!function(){"use strict";const e=[{url:"https://www.telx.network/api/trpc/pools.dashboard?batch=1&input=%7B%7D"},{url:"https://telx.network/api/trpc/pools.dashboard?batch=1&input=%7B%7D"},{url:"https://www.telx.network/api/pools"},{url:"https://telx.network/api/pools"},{url:"https://api.telx.network/pools"},{url:"https://www.telx.network/pools?__nextjs_data_req=1",options:{headers:{"x-nextjs-data":"1"}}},{url:"https://telx.network/pools?__nextjs_data_req=1",options:{headers:{"x-nextjs-data":"1"}}},{url:"https://www.telx.network/pools"},{url:"https://telx.network/pools"}],t={tvl:{type:"currency",valueKeywords:["tvl","totalvalue","total_liquidity","liquidity","totalvaluelocked"],valueOptions:{preferIncludes:["usd","value"],avoidIncludes:["tel"]},deltaKeywords:["tvlchange24h","tvlusdchange24h","tvldelta","totalvaluechange","tvlchange"],deltaOptions:{avoidIncludes:["percent","pct"]},percentKeywords:["tvlchangepercent24h","tvlpercentchange24h","tvlpercentchange","tvlchangepercent","tvlchangepct","tvlpctchange","tvlchange24hpercent"],percentOptions:{preferIncludes:["percent","pct"]},previousKeywords:["tvl24hago","tvlusd24hago","tvllast24h","tvlprevious24h"]},staked:{type:"token",symbol:"TEL",valueKeywords:["staked","stakedtel","staketotal","staking","stakedbalance","stakedamount"],valueOptions:{preferIncludes:["tel","amount"],avoidIncludes:["usd"]},deltaKeywords:["stakedchange24h","staketotalchange24h","stakedelta"],deltaOptions:{avoidIncludes:["percent","pct"]},percentKeywords:["stakedpercentchange24h","stakedchangepercent","stakingpercentchange"],percentOptions:{preferIncludes:["percent","pct"]},previousKeywords:["staked24hago","staketotal24hago"]},volume:{type:"currency",valueKeywords:["volume24h","volume","swapvolume","dailyvolume","24hvolume"],valueOptions:{preferIncludes:["usd"],avoidIncludes:["tel"]},deltaKeywords:["volumechange24h","volumedelta","volumeusdchange24h","swapvolumechange24h"],deltaOptions:{avoidIncludes:["percent","pct"]},percentKeywords:["volumepercentchange24h","volumechangepercent","volumechangepct","volumechange24hpercent"],percentOptions:{preferIncludes:["percent","pct"]},previousKeywords:["volume24hago","volumeusd24hago"]},fees:{type:"currency",valueKeywords:["fees24h","fees","swapfees","dailyfees","feevolume"],valueOptions:{preferIncludes:["usd"],avoidIncludes:["tel"]},deltaKeywords:["feeschange24h","feedelta","feeusdchange24h"],deltaOptions:{avoidIncludes:["percent","pct"]},percentKeywords:["feespercentchange24h","feeschangepercent","feechangepct","feeschange24hpercent"],percentOptions:{preferIncludes:["percent","pct"]},previousKeywords:["fees24hago","feesusd24hago"]}},n={tvl:"Total value locked",staked:"Staked TEL",volume:"24 hour volume",fees:"24 hour fees"};let r=null;function o(e,t){e&&e.setAttribute("aria-busy",t?"true":"false")}function a(t){if(t>=e.length)return Promise.reject(new Error("All TELx endpoints failed."));const n=e[t],r=n.url,o={headers:{accept:"application/json, text/plain, */*"},credentials:"omit",cache:"no-store",mode:"cors"};return n.options&&(n.options.headers&&(o.headers=Object.assign({},o.headers,n.options.headers)),Object.keys(n.options).forEach(function(e){"headers"!==e&&(o[e]=n.options[e])})),fetch(r,o).then(function(e){if(!e.ok)throw new Error("HTTP "+e.status);return function(e){const t=e.headers&&e.headers.get("content-type")||"";if(-1!==t.indexOf("application/json"))return e.json();return e.text().then(function(e){const t=function(e){const t=[];if(!e)return t;const n=new RegExp("<script[^>]*type=['\"]application\\/(?:json|ld\\+json)['\"][^>]*>([\\s\\S]*?)<\\/script>","gi");let r;for(;null!==(r=n.exec(e));){const e=(r[1]||"").trim();if(e)try{t.push(JSON.parse(e));continue}catch(n){try{const n=e.replace(/&quot;/g,'"').replace(/&amp;/g,"&").replace(/&#x27;/g,"'").replace(/&#39;/g,"'").replace(/&lt;/g,"<").replace(/&gt;/g,">");t.push(JSON.parse(n))}catch(e){}}}const o=new RegExp("(?:__NEXT_DATA__|__NUXT__|__APOLLO_STATE__)\\s*=\\s*(\\{[\\s\\S]*?\\})(?:;|<\\/script>)","g");let a;for(;null!==(a=o.exec(e));){const e=(a[1]||"").trim();if(e)try{t.push(JSON.parse(e))}catch(e){}}return t}(e);for(let e=0;e<t.length;e++){const n=s(t[e]);if(n&&n.length)return t[e]}throw new Error("HTML response did not contain parseable TELx data.")})}(e)}).then(function(e){const t=s(e);if(t&&t.length)return t;throw new Error("No pools in payload.")}).catch(function(){return a(t+1)})}function s(e){if(!e)return[];if(e.result&&"object"==typeof e.result){const t=s(e.result);if(t.length)return t}if(e.data&&"object"==typeof e.data){const t=s(e.data);if(t.length)return t}if(e.json&&"object"==typeof e.json){const t=s(e.json);if(t.length)return t}if("object"==typeof e){const t=Object.keys(e).filter(function(e){return/^\d+$/.test(e)});if(t.length&&t.length===Object.keys(e).length){const n=[];for(let n=0;n<t.length;n++){const r=s(e[t[n]]);if(r.length)return r}return n}}if(Array.isArray(e))return e.filter(function(e){return e&&"object"==typeof e});const t=["pools","data","result","items","records","nodes","edges"];for(let n=0;n<t.length;n++){const r=e[t[n]];if(Array.isArray(r)){const e=s(r);if(e.length)return e}else if(r&&"object"==typeof r){const e=s(r);if(e.length)return e}}if(e.props&&"object"==typeof e.props){const t=s(e.props);if(t.length)return t}if(e.pageProps&&"object"==typeof e.pageProps){const t=s(e.pageProps);if(t.length)return t}if(e.attributes&&"object"==typeof e.attributes){const t=s(e.attributes);if(t.length)return t}const n=i(e,new WeakSet);return Array.isArray(n)?n.filter(function(e){return e&&"object"==typeof e}):[]}function i(e,t){if(!e||"object"!=typeof e)return null;if(t.has(e))return null;if(t.add(e),Array.isArray(e)){if(e.length&&"object"==typeof e[0]){const t=Object.keys(e[0]).map(function(e){return e.toLowerCase()}),n=t.some(function(e){return-1!==e.indexOf("pool")||-1!==e.indexOf("pair")||-1!==e.indexOf("name")||-1!==e.indexOf("token")}),r=t.some(function(e){return-1!==e.indexOf("tvl")||-1!==e.indexOf("volume")||-1!==e.indexOf("fee")||-1!==e.indexOf("staked")});if(n&&r)return e}for(let n=0;n<e.length;n++){const r=i(e[n],t);if(r)return r}return null}for(const n in e){if(!Object.prototype.hasOwnProperty.call(e,n))continue;const r=e[n];if(r)if(Array.isArray(r)){const e=i(r,t);if(e)return e}else if("object"==typeof r){const e=i(r,t);if(e)return e}}return null}function l(e){const t=[],n=[],r=new WeakSet;return function e(o,a){if(o&&"object"==typeof o){if(r.has(o))return;r.add(o)}if(null==o)return;if(Array.isArray(o)){for(let t=0;t<o.length;t++){const n=a?a+"["+t+"]":"["+t+"]";e(o[t],n)}return}if(o&&"object"==typeof o){for(const t in o){if(!Object.prototype.hasOwnProperty.call(o,t))continue;const n=a?a+"."+t:t;e(o[t],n)}return}const s=(a||"").toLowerCase();if("number"==typeof o&&isFinite(o))t.push({path:s,value:o});else if("string"==typeof o){const e=o.trim();if(!e)return;n.push({path:s,value:e});const r=Number(e.replace(/[^0-9eE+\-\.]/g,""));isNaN(r)||""===e.replace(/[^0-9]/g,"")||t.push({path:s,value:r})}}(e,""),{numbers:t,strings:n}}function c(e,t,n){if(!(e&&e.length&&t&&t.length))return null;const r=t.map(function(e){return e.toLowerCase()}),o=n&&n.preferIncludes?n.preferIncludes.map(function(e){return e.toLowerCase()}):[],a=n&&n.avoidIncludes?n.avoidIncludes.map(function(e){return e.toLowerCase()}):[];let s=null,i=1/0;return e.forEach(function(e){if(!Number.isFinite(e.value))return;const t=e.path||"";if(!a.length||!a.some(function(e){return-1!==t.indexOf(e)}))for(let n=0;n<r.length;n++){const a=r[n];let l=null;if(t===a?l=10*n:t.endsWith(a)?l=10*n+1:-1!==t.indexOf(a)&&(l=10*n+2),null!==l){o.length&&!o.some(function(e){return-1!==t.indexOf(e)})&&(l+=100),l<i&&(i=l,s=e);break}}}),s}function u(e,t,n){if(!(e&&e.length&&t&&t.length))return;const r=t.map(function(e){return e.toLowerCase()}),o=n&&n.preferIncludes?n.preferIncludes.map(function(e){return e.toLowerCase()}):[];let a=null,s=1/0;return e.forEach(function(e){const t=e.path||"";if(e.value)for(let n=0;n<r.length;n++){const i=r[n];let l=null;if(t===i?l=10*n:t.endsWith(i)?l=10*n+1:-1!==t.indexOf(i)&&(l=10*n+2),null!==l){o.length&&!o.some(function(e){return-1!==t.indexOf(e)})&&(l+=100),l<s&&(s=l,a=e);break}}}),a?a.value:void 0}function d(e,t){if(!e)return{value:void 0,percent:void 0,delta:void 0,previous:void 0};const n=c(e.numbers,t.valueKeywords,t.valueOptions||null),r=c(e.numbers,t.deltaKeywords,t.deltaOptions||null),o=c(e.numbers,t.percentKeywords,t.percentOptions||null),a=c(e.numbers,t.previousKeywords,t.valueOptions||null),s=n?n.value:void 0,i=r?r.value:void 0;let l=o?function(e,t){if(null==e)return;const n=Number(e);if(!isFinite(n))return;const r=(t||"").toLowerCase();if(-1!==r.indexOf("percent")||-1!==r.indexOf("pct"))return n;if(Math.abs(n)<=1)return 100*n;return n}(o.value,o.path):void 0;const u=a?a.value:void 0;return void 0===l&&(void 0!==i&&void 0!==u&&0!==u?l=i/u*100:void 0!==i&&void 0!==s&&s-i!==0&&(l=i/(s-i)*100)),{value:s,percent:l,delta:i,previous:u}}function f(e,t){return t&&"token"===t.type?function(e,t){if(!Number.isFinite(e))return"—";const n=Math.abs(e);let r=0;return n<1?r=4:n<100?r=2:n<1e3&&(r=1),new Intl.NumberFormat("en-US",{maximumFractionDigits:r}).format(e)+" "+(t||"TEL")}(e,t.symbol):function(e){if(!Number.isFinite(e))return"—";const t=Math.abs(e);let n=0;return t<1?n=4:t<100?n=2:t<1e3&&(n=1),new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",maximumFractionDigits:n}).format(e)}(e)}function p(e,t,n){const r={text:"",tone:"neutral",aria:"",numeric:Number.isFinite(t)?t:null};if(e&&e.classList.remove("positive","negative","neutral"),!Number.isFinite(t))return r.text=n&&n.unavailableText?n.unavailableText:"Data unavailable",r.aria=r.text,e&&(e.textContent=r.text,e.classList.add("neutral")),r;const o=function(e){if(!Number.isFinite(e))return"—";const t=Math.abs(e);let n=2;return t>=100?n=0:t>=10&&(n=1),(e>=0?"+":"-")+t.toFixed(n)+"%"}(t);return r.text=n&&n.suffix?o+n.suffix:o,r.tone=t>0?"positive":t<0?"negative":"neutral",r.aria=function(e,t,n){const r=n.replace(/^[-+]/,"").replace("%"," percent"),o=function(e){if(!e)return"";const t=e.replace(/^[\s·]+/,"").trim();if(!t)return"";if(/24h/i.test(t))return/^vs/i.test(t)?"versus 24 hours ago":"in the last 24 hours";return t}(t&&t.suffix);if(e>0)return["Up",r,o].filter(Boolean).join(" ");if(e<0)return["Down",r,o].filter(Boolean).join(" ");return o?["No change",o].join(" "):"No change"}(t,n,o),e&&(e.textContent=r.text,e.classList.add(r.tone)),r}function h(e){const t=e.raw;if(t){const e=t.name||t.label||t.title||t.pair||t.pool;if("string"==typeof e&&e.trim())return e.trim()}const n=u(e.flat.strings,["name","title","pair","pool"],{preferIncludes:["pool","pair","name"]});return n&&n.trim()?n.trim():"Unnamed pool"}function m(e){const t=e.raw;if(t){const e=t.status||t.lifecycle||t.state||t.phase;if("string"==typeof e&&e.trim())return e.trim()}const n=u(e.flat.strings,["status","lifecycle","state","phase"]);return n&&n.trim()?n.trim():"Unknown"}function v(e){const t=e.raw,n=[];if(t&&Array.isArray(t.rewards)&&t.rewards.forEach(function(e){e&&("string"==typeof e&&e.trim()?n.push(e.trim()):e.name&&"string"==typeof e.name?n.push(e.name.trim()):e.title&&"string"==typeof e.title&&n.push(e.title.trim()))}),!n.length){const t=function(e,t){if(!(e&&e.length&&t&&t.length))return[];const n=t.map(function(e){return e.toLowerCase()}),r=Object.create(null),o=[];return e.forEach(function(e){const t=e.path||"",a=e.value;if(a)for(let e=0;e<n.length;e++){const s=n[e];if(t===s||t.endsWith(s)||-1!==t.indexOf(s)){const e=a.toLowerCase();r[e]||(r[e]=!0,o.push(a));break}}}),o}(e.flat.strings,["reward","incentive","emission","program"]);t.forEach(function(e){e&&e.trim()&&n.push(e.trim())})}const r=[],o=Object.create(null);return n.forEach(function(e){const t=e.toLowerCase();o[t]||(o[t]=!0,r.push(e))}),r.join(" · ")}document.addEventListener("DOMContentLoaded",function(){r=function(){const e=document.querySelector("[data-progress-bar]");if(!e)return null;if(!e.querySelector("[data-progress-indicator]"))return null;const t=e.querySelector("[data-progress-label]");return{start:function(){e.setAttribute("aria-valuenow","0"),e.classList.remove("is-complete","is-error","is-active"),e.offsetWidth,e.classList.add("is-active"),t&&(t.textContent="Loading TELx pool metrics…"),e.setAttribute("aria-label","Loading TELx pool metrics")},finish:function(n){const r=n&&n.label?n.label:"TELx pool metrics loaded",o=Boolean(n&&n.error);e.setAttribute("aria-valuenow","100"),e.classList.toggle("is-error",o),t&&(t.textContent=r),e.setAttribute("aria-label",r),e.classList.add("is-complete"),window.setTimeout(function(){e.classList.remove("is-active")},600)}}}();const e=document.querySelector("[data-stat-value]"),s=document.querySelector("[data-pool-table-body]");(e||s)&&(r&&s&&r.start(),o(s,!0),a(0).then(function(o){const a=function(e){return e.filter(function(e){return e&&"object"==typeof e}).map(function(e){return{raw:e,flat:l(e)}})}(o);if(!a.length)throw new Error("No TELx pools returned from source.");e&&function(e){const n=document.querySelector("[data-pool-stats-error]");n&&n.classList.add("hidden");Object.keys(t).forEach(function(n){const r=document.querySelector('[data-stat-value="'+n+'"]'),o=document.querySelector('[data-stat-change="'+n+'"]');if(!r&&!o)return;const a=function(e,t){let n,r=0,o=!1,a=0,s=!1,i=0,l=!1,c=0,u=0,f=!1;e.forEach(function(e){const n=d(e.flat,t);if(Number.isFinite(n.value)&&(r+=n.value,o=!0),Number.isFinite(n.delta)&&(a+=n.delta,s=!0),Number.isFinite(n.previous)&&(i+=n.previous,l=!0),Number.isFinite(n.percent)&&Number.isFinite(n.value)){const e=Math.max(Math.abs(n.value),1);c+=n.percent*e,u+=e,f=!0}}),s&&l&&0!==i?n=a/i*100:s&&o&&r-a!==0?n=a/(r-a)*100:f&&u?n=c/u:s&&(n=0);return{total:o?r:void 0,percentChange:n}}(e,t[n]);r&&(Number.isFinite(a.total)?r.textContent=f(a.total,t[n]):r.textContent="—"),o&&p(o,a.percentChange,{suffix:" vs 24h",unavailableText:"Data unavailable"})})}(a),s&&function(e){const r=document.querySelector("[data-pool-table-body]");if(!r)return;const o=document.querySelector("[data-pools-error]");o&&o.classList.add("hidden");if(r.innerHTML="",!e.length){const e=document.createElement("tr"),t=document.createElement("td");return t.colSpan=7,t.className="table-note",t.textContent="No live TELx pool data available.",e.appendChild(t),void r.appendChild(e)}const a=e.map(function(e){return{pool:e,metrics:{tvl:d(e.flat,t.tvl),staked:d(e.flat,t.staked),volume:d(e.flat,t.volume),fees:d(e.flat,t.fees)}}}).map(function(e){return{pool:e.pool,metrics:e.metrics,name:h(e.pool),status:m(e.pool),rewards:v(e.pool)}});a.sort(function(e,t){const n=Number.isFinite(e.metrics.tvl.value)?e.metrics.tvl.value:-1/0;return(Number.isFinite(t.metrics.tvl.value)?t.metrics.tvl.value:-1/0)-n}),a.forEach(function(e){const o=document.createElement("tr"),a=document.createElement("td");a.className="table-name",a.textContent=e.name,a.setAttribute("aria-label","Pool: "+e.name),o.appendChild(a);const s=document.createElement("td"),i=function(e){const t=document.createElement("span");t.classList.add("tc-chip");const n=e&&e.trim?e.trim():"Unknown",r=n.toLowerCase();-1!==r.indexOf("active")||-1!==r.indexOf("live")||-1!==r.indexOf("enabled")?t.classList.add("is-active"):-1!==r.indexOf("deprecated")||-1!==r.indexOf("sunset")||-1!==r.indexOf("inactive")||-1!==r.indexOf("ending")?t.classList.add("is-deprecated"):-1===r.indexOf("archived")&&-1===r.indexOf("ended")&&-1===r.indexOf("retired")||t.classList.add("is-archived");return t.title=n,t.textContent=n,t}(e.status),l=i.textContent||"Unknown";s.setAttribute("aria-label","Pool status: "+l),s.appendChild(i),o.appendChild(s),["tvl","staked","volume","fees"].forEach(function(r){const a=document.createElement("td"),s=document.createElement("div");s.className="metric-value";const i=f(e.metrics[r].value,t[r]);s.textContent=i,s.setAttribute("aria-hidden","true"),a.appendChild(s);const l=document.createElement("div");l.className="value-change";const c=p(l,e.metrics[r].percent,{suffix:" · 24h"});l.setAttribute("aria-hidden","true"),a.appendChild(l),a.setAttribute("aria-label",function(e,t,r){const o=n[e]||e,a="—"===t?"Data unavailable":t,s=[o+": "+a];r&&r.aria&&s.push(r.aria);return s.join(". ")}(r,i,c)),o.appendChild(a)});const c=document.createElement("td");c.className="table-note";const u=e.rewards||"—";c.textContent=u,c.setAttribute("aria-label","—"===u?"Rewards data unavailable":"Rewards: "+u),o.appendChild(c),r.appendChild(o)})}(a),r&&s&&r.finish()}).catch(function(){!function(){const e=document.querySelector("[data-pool-stats-error]");e&&e.classList.remove("hidden");document.querySelectorAll("[data-stat-change]").forEach(function(e){e.textContent="Data unavailable",e.classList.remove("positive","negative"),e.classList.add("neutral")}),document.querySelectorAll("[data-stat-value]").forEach(function(e){e.textContent="—"});const t=document.querySelector("[data-pool-table-body]");if(t){t.innerHTML="";const e=document.createElement("tr"),n=document.createElement("td");n.colSpan=7,n.className="table-note",n.textContent="Unable to load TELx pool data. Visit telx.network/pools for the official dashboard.",e.appendChild(n),t.appendChild(e)}const n=document.querySelector("[data-pools-error]");n&&n.classList.remove("hidden");o(t,!1)}(),r&&s&&r.finish({label:"TELx pool metrics unavailable",error:!0})}).finally(function(){o(s,!1)}))})}();